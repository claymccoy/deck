<div ng-if="ctrl.state.loaded" class="clearfix">
  <div class="container-fluid form-horizontal">
    <stage-config-field
      label="Expected Artifact"
      help-key="kubernetes.manifest.expectedArtifact"
      field-columns="8"
      ng-if="ctrl.$scope.stage.source === ctrl.artifactSource"
    >
      <stage-artifact-selector
        pipeline="ctrl.$scope.$parent.pipeline"
        stage="ctrl.$scope.stage"
        expected-artifact-id="ctrl.$scope.artifact.source == 'expectedArtifact' && ctrl.$scope.stage.pipelinesArtifactId"
        artifact="ctrl.$scope.artifact.source == 'inlineArtifact' && ctrl.$scope.artifact"
        on-expected-artifact-selected="ctrl.onExpectedArtifactSelected"
      >
      </stage-artifact-selector>
    </stage-config-field>
  </div>
</div>
